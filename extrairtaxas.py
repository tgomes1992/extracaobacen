import requests
from bs4 import BeautifulSoup
from selenium import webdriver
import time
from selenium.webdriver.common.keys import Keys


#Datas Extraidadas

#"02012019","03012019","04012019","07012019","08012019","09012019","10012019","08012019","09012019","10012019","11012019","14012019","15012019","16012019","17012019","18012019","21012019","22012019","23012019","24012019","25012019","28012019","29012019",
#"30012019","31012019","01022019","04022019","05022019","06022019","07022019","08022019","11022019","12022019","13022019","14022019","15022019","18022019","19022019","20022019","21022019","22022019","25022019","26022019","27022019",
#"28022019","01032019","06032019","07032019","08032019","11032019","12032019","13032019","14032019","15032019","18032019","19032019","20032019","21032019","22032019","25032019","26032019","27032019","28032019",
#"29032019","01042019","02042019","03042019","04042019","05042019","08042019","09042019","10042019","11042019","12042019","15042019","16042019","17042019","18042019","19042019",
#"22042019","23042019","24042019","25042019","26042019","02052019","03052019","06052019","07052019","08052019","09052019","10052019","13052019","14052019","15052019","16052019","17052019","20052019","21052019","22052019","23052019","24052019","27052019",
#"28052019","29052019","30052019","31052019","03062019","04062019","05062019","06062019","07062019","10062019","11062019","12062019","13062019","14062019","17062019","18062019","19062019",
#"29042019","30042019","01052019","20062019""21062019","24062019","25062019",
#"26062019","27062019","28062019","01072019","02072019","03072019","04072019","05072019","08072019","09072019","10072019","11072019","12072019","15072019","16072019","17072019","18072019","19072019","22072019","23072019","24072019",
#"25072019","26072019","29072019","30072019","31072019","01082019","02082019","05082019","06082019","07082019","08082019","09082019","12082019","13082019","14082019","15082019","16082019","19082019","20082019","21082019","22082019",
#"23082019","26082019","27082019","28082019","29082019","30082019","02092019","03092019","04092019","05092019","06092019","09092019","10092019","11092019","12092019","13092019","16092019","17092019","18092019","19092019","20092019",
#"23092019","24092019","25092019","26092019","27092019","30092019","01102019","02102019","03102019","04102019","07102019","08102019","09102019","10102019","11102019","14102019","15102019","16102019","17102019","18102019","21102019",
#"22102019","23102019","24102019","25102019","28102019","29102019","30102019","31102019","01112019","04112019","05112019","06112019","07112019","08112019","11112019","12112019","13112019","14112019"
#"18112019","19112019","20112019","21112019","22112019","25112019","26112019","27112019","28112019","29112019","02122019","03122019","04122019","05122019","06122019","09122019","10122019","11122019","12122019","13122019","16122019",
#"17122019","18122019","19122019","20122019","23122019","24122019","26122019","27122019","30122019","31122019""02012020","03012020","06012020","07012020","08012020","09012020","10012020","13012020","14012020","15012020","16012020","17012020","20012020","21012020",
           #"22012020","23012020","24012020","27012020","28012020","29012020","30012020","31012020","03022020","04022020","05022020","06022020","07022020","10022020",
           #"11022020","12022020","13022020","14022020","17022020","18022020","19022020","20022020","21022020""26022020","27022020","28022020",
           #"02032020","03032020","04032020","05032020","06032020","09032020","10032020","11032020","12032020","13032020","16032020","17032020","18032020", "23032020" ,  "24032020", "25032020" , "26032020" ,   
           #"19032020" , "20032020"

#Variaveis


periodo = ["17062015"]



class bacen():
    def __init__(self,data):
        self.data = data
    def gettaxas(self):
        url = 'https://ptax.bcb.gov.br/ptax_internet/consultaBoletim.do?method=exibeFormularioConsultaBoletim'
        response = requests.get(url)
        driver = webdriver.Chrome()
        driver.get(url)
        option = driver.find_element_by_xpath("//input[@value='2']")
        option.click()
        dataini = driver.find_element_by_id('DATAINI')
        dataini.clear()
        dataini.send_keys(self.data)
        inputElement = driver.find_element_by_class_name('botao')
        inputElement.submit()
        time.sleep(5)
        arquivo = driver.find_element_by_tag_name('a')
        arquivo.click()
        time.sleep(5)
        driver.close()


def main():
    i = 0
    for n in periodo:
        taxas = bacen(periodo[int(i)])
        taxas.gettaxas()
        i = i + 1


main()

#if __name__ == '__main__':
#    main()
